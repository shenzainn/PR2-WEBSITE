<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="/images/EduVault.png">
    <title>Tracking</title>
    <link rel="stylesheet" href="../CSS/styles.css">
</head>

<body>
    <button id="menu-toggle">â˜°</button>
    <section id="sidebar">
        <div class="logo">
            <img src="/images/UE_RED_SEAL.png" alt="University of the East Logo">
            <h1>EduVault</h1>
            <h2>Structured Document Management System</h2>
        </div>

        <div class="items">
            <li><a href="http://<%= localIP%>:<%= portNum%>/students">Home</a></li>
            <li><a href="http://<%= localIP%>:<%= portNum%>/students/track">Track</a></li>
            <li><a href="http://<%= localIP%>:<%= portNum%>/students/settings">Settings</a></li>
            <li><a href="http://<%= localIP%>:<%= portNum%>/students/notif">Notifications</a></li>
            <li><a href="http://<%= localIP%>:<%= portNum%>/students/help">Help</a></li>
        </div>
    </section>

    <section id="main-content">
        <h2>Track Your Request</h2>

        <div id="tracking-status">
            <p>Loading tracking information...</p>
        </div>

        <table id="approved-requests">
            <thead>
                <tr>
                    <th>Request ID</th>
                    <th>Document Type</th>
                    <th>Date Approved</th>
                    <th>Download</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <table id="rejected-requests">
            <thead>
                <tr>
                    <th>Request ID</th>
                    <th>Document Type</th>
                    <th>Date Rejected</th>
                    <th>Reason</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <script>
            function loadDemoData() {
                const approvedRequests = [
                    { requestID: "REQ001", documentType: "Transcript", dateApproved: "2025-04-01", fileUrl: "#" },
                    { requestID: "REQ002", documentType: "Diploma", dateApproved: "2025-04-02", fileUrl: "#" }
                ];

                const rejectedRequests = [
                    { requestID: "REQ003", documentType: "Certificate of Ranking Per Strand", dateRejected: "2025-04-03", reason: "Not an Honors Student." },
                    { requestID: "REQ004", documentType: "ID Replacement", dateRejected: "2025-04-04", reason: "Invalid application" }
                ];

                let approvedHTML = approvedRequests.map(req => `
                    <tr>
                        <td>${req.requestID}</td>
                        <td>${req.documentType}</td>
                        <td>${req.dateApproved}</td>
                        <td><a href="${req.fileUrl}" target="_blank">Download</a></td>
                    </tr>
                `).join("");
                document.querySelector("#approved-requests tbody").innerHTML = approvedHTML;

                let rejectedHTML = rejectedRequests.map(req => `
                    <tr>
                        <td>${req.requestID}</td>
                        <td>${req.documentType}</td>
                        <td>${req.dateRejected}</td>
                        <td>${req.reason}</td>
                    </tr>
                `).join("");
                document.querySelector("#rejected-requests tbody").innerHTML = rejectedHTML;

                document.getElementById("tracking-status").innerHTML = "<p>Tracking data loaded.</p>";
            }

            document.addEventListener("DOMContentLoaded", loadDemoData);
        </script>
    </section>
    <script src="/js/script.js"></script>
</body>
</html>
